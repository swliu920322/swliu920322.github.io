(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-283e42aa"],{2366:function(e,n){for(var t=[],i=0;i<256;++i)t[i]=(i+256).toString(16).substr(1);function r(e,n){var i=n||0,r=t;return[r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]]].join("")}e.exports=r},"2b80":function(e,n,t){var i;
/*!
 * UAParser.js v0.7.24
 * Lightweight JavaScript-based User-Agent string parser
 * https://github.com/faisalman/ua-parser-js
 *
 * Copyright © 2012-2021 Faisal Salman <f@faisalman.com>
 * Licensed under MIT License
 */(function(r,o){"use strict";var s="0.7.24",a="",c="?",d="function",u="undefined",f="object",p="string",l="major",m="model",h="name",w="type",g="vendor",v="version",y="architecture",b="console",k="mobile",S="tablet",E="smarttv",x="wearable",A="embedded",C={extend:function(e,n){var t={};for(var i in e)n[i]&&n[i].length%2===0?t[i]=n[i].concat(e[i]):t[i]=e[i];return t},has:function(e,n){return"string"===typeof e&&-1!==n.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===p?e.replace(/[^\d\.]/g,"").split(".")[0]:o},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},O={rgx:function(e,n){var t,i,r,s,a,c,u=0;while(u<n.length&&!a){var p=n[u],l=n[u+1];t=i=0;while(t<p.length&&!a)if(a=p[t++].exec(e),a)for(r=0;r<l.length;r++)c=a[++i],s=l[r],typeof s===f&&s.length>0?2==s.length?typeof s[1]==d?this[s[0]]=s[1].call(this,c):this[s[0]]=s[1]:3==s.length?typeof s[1]!==d||s[1].exec&&s[1].test?this[s[0]]=c?c.replace(s[1],s[2]):o:this[s[0]]=c?s[1].call(this,c,s[2]):o:4==s.length&&(this[s[0]]=c?s[3].call(this,c.replace(s[1],s[2])):o):this[s]=c||o;u+=2}},str:function(e,n){for(var t in n)if(typeof n[t]===f&&n[t].length>0){for(var i=0;i<n[t].length;i++)if(C.has(n[t][i],e))return t===c?o:t}else if(C.has(n[t],e))return t===c?o:t;return e}},P={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},T={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6}).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[h,v],[/(opios)[\/\s]+([\w\.]+)/i],[[h,"Opera Mini"],v],[/\s(opr)\/([\w\.]+)/i],[[h,"Opera"],v],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[h,v],[/(konqueror)\/([\w\.]+)/i],[[h,"Konqueror"],v],[/(trident).+rv[:\s]([\w\.]{1,9}).+like\sgecko/i],[[h,"IE"],v],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[h,"Edge"],v],[/(yabrowser)\/([\w\.]+)/i],[[h,"Yandex"],v],[/(Avast)\/([\w\.]+)/i],[[h,"Avast Secure Browser"],v],[/(AVG)\/([\w\.]+)/i],[[h,"AVG Secure Browser"],v],[/(puffin)\/([\w\.]+)/i],[[h,"Puffin"],v],[/(focus)\/([\w\.]+)/i],[[h,"Firefox Focus"],v],[/(opt)\/([\w\.]+)/i],[[h,"Opera Touch"],v],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[h,"UCBrowser"],v],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],v],[/(windowswechat qbcore)\/([\w\.]+)/i],[[h,"WeChat(Win) Desktop"],v],[/(micromessenger)\/([\w\.]+)/i],[[h,"WeChat"],v],[/(brave)\/([\w\.]+)/i],[[h,"Brave"],v],[/(whale)\/([\w\.]+)/i],[[h,"Whale"],v],[/(qqbrowserlite)\/([\w\.]+)/i],[h,v],[/(QQ)\/([\d\.]+)/i],[h,v],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[h,v],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[h,v],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[h,v],[/(MetaSr)[\/\s]?([\w\.]+)/i],[h],[/(LBBROWSER)/i],[h],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[v,[h,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[v,[h,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[h,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[h,v],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[v,[h,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[h,/(.+)/,"$1 WebView"],v],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[h,/(.+(?:g|us))(.+)/,"$1 $2"],v],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[v,[h,"Android Browser"]],[/(coc_coc_browser)\/([\w\.]+)/i],[[h,"Coc Coc"],v],[/(sailfishbrowser)\/([\w\.]+)/i],[[h,"Sailfish Browser"],v],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[h,v],[/(dolfin)\/([\w\.]+)/i],[[h,"Dolphin"],v],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[h,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[h,"Chrome"],v],[/(coast)\/([\w\.]+)/i],[[h,"Opera Coast"],v],[/fxios\/([\w\.-]+)/i],[v,[h,"Firefox"]],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[v,[h,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[v,h],[/webkit.+?(gsa)\/([\w\.]+)\s.*(mobile\s?safari|safari)(\/[\w\.]+)/i],[[h,"GSA"],v],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[h,[v,O.str,P.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[h,v],[/(navigator|netscape)\/([\w\.-]+)/i],[[h,"Netscape"],v],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[h,v]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[y,"amd64"]],[/(ia32(?=;))/i],[[y,C.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[y,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[y,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[y,/ower/,"",C.lowerize]],[/(sun4\w)[;\)]/i],[[y,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[y,C.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[m,g,[w,S]],[/applecoremedia\/[\w\.]+ \((ipad)/],[m,[g,"Apple"],[w,S]],[/(apple\s{0,1}tv)/i],[[m,"Apple TV"],[g,"Apple"],[w,E]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[g,m,[w,S]],[/(kf[A-z]+)(\sbuild\/|\)).+silk\//i],[m,[g,"Amazon"],[w,S]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[m,O.str,P.device.amazon.model],[g,"Amazon"],[w,k]],[/android.+aft([\w])(\sbuild\/|\))/i],[m,[g,"Amazon"],[w,E]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[m,g,[w,k]],[/\((ip[honed|\s\w*]+);/i],[m,[g,"Apple"],[w,k]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[g,m,[w,k]],[/\(bb10;\s(\w+)/i],[m,[g,"BlackBerry"],[w,k]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[m,[g,"Asus"],[w,S]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[g,"Sony"],[m,"Xperia Tablet"],[w,S]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[m,[g,"Sony"],[w,k]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[g,m,[w,b]],[/android.+;\s(shield)\sbuild/i],[m,[g,"Nvidia"],[w,b]],[/(playstation\s[34portablevi]+)/i],[m,[g,"Sony"],[w,b]],[/(sprint\s(\w+))/i],[[g,O.str,P.device.sprint.vendor],[m,O.str,P.device.sprint.model],[w,k]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[g,[m,/_/g," "],[w,k]],[/(nexus\s9)/i],[m,[g,"HTC"],[w,S]],[/d\/huawei([\w\s-]+)[;\)]/i,/android.+\s(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?)/i],[m,[g,"Huawei"],[w,k]],[/android.+(bah2?-a?[lw]\d{2})/i],[m,[g,"Huawei"],[w,S]],[/(microsoft);\s(lumia[\s\w]+)/i],[g,m,[w,k]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[m,[g,"Microsoft"],[w,b]],[/(kin\.[onetw]{3})/i],[[m,/\./g," "],[g,"Microsoft"],[w,k]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[m,[g,"Motorola"],[w,k]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[m,[g,"Motorola"],[w,S]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[g,C.trim],[m,C.trim],[w,E]],[/hbbtv.+maple;(\d+)/i],[[m,/^/,"SmartTV"],[g,"Samsung"],[w,E]],[/\(dtv[\);].+(aquos)/i],[m,[g,"Sharp"],[w,E]],[/android.+((sch-i[89]0\d|shw-m380s|SM-P605|SM-P610|SM-P587|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[g,"Samsung"],m,[w,S]],[/smart-tv.+(samsung)/i],[g,[w,E],m],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[g,"Samsung"],m,[w,k]],[/sie-(\w*)/i],[m,[g,"Siemens"],[w,k]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[g,"Nokia"],m,[w,k]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[m,[g,"Acer"],[w,S]],[/android.+([vl]k\-?\d{3})\s+build/i],[m,[g,"LG"],[w,S]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[g,"LG"],m,[w,S]],[/linux;\snetcast.+smarttv/i,/lg\snetcast\.tv-201\d/i],[[g,"LG"],m,[w,E]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[m,[g,"LG"],[w,k]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[g,m,[w,S]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[m,[g,"Lenovo"],[w,S]],[/(lenovo)[_\s-]?([\w-]+)/i],[g,m,[w,k]],[/linux;.+((jolla));/i],[g,m,[w,k]],[/((pebble))app\/[\d\.]+\s/i],[g,m,[w,x]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[g,m,[w,k]],[/crkey/i],[[m,"Chromecast"],[g,"Google"],[w,E]],[/android.+;\s(glass)\s\d/i],[m,[g,"Google"],[w,x]],[/android.+;\s(pixel c)[\s)]/i],[m,[g,"Google"],[w,S]],[/android.+;\s(pixel( [2-9]a?)?( xl)?)[\s)]/i],[m,[g,"Google"],[w,k]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/android.+(redmi[\s\-_]?(?:note|k)?(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i,/android.+(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[m,/_/g," "],[g,"Xiaomi"],[w,k]],[/android.+(mi[\s\-_]?(?:pad)(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i],[[m,/_/g," "],[g,"Xiaomi"],[w,S]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[m,[g,"Meizu"],[w,k]],[/(mz)-([\w-]{2,})/i],[[g,"Meizu"],m,[w,k]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[m,[g,"OnePlus"],[w,k]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[m,[g,"RCA"],[w,S]],[/android.+[;\/\s](Venue[\d\s]{2,7})\s+build/i],[m,[g,"Dell"],[w,S]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[m,[g,"Verizon"],[w,S]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(\S(?:.*\S)?)\s+build/i],[[g,"Barnes & Noble"],m,[w,S]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[m,[g,"NuVision"],[w,S]],[/android.+;\s(k88)\sbuild/i],[m,[g,"ZTE"],[w,S]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[m,[g,"Swiss"],[w,k]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[m,[g,"Swiss"],[w,S]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[m,[g,"Zeki"],[w,S]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[g,"Dragon Touch"],m,[w,S]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[m,[g,"Insignia"],[w,S]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[m,[g,"NextBook"],[w,S]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[g,"Voice"],m,[w,k]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[g,"LvTel"],m,[w,k]],[/android.+;\s(PH-1)\s/i],[m,[g,"Essential"],[w,k]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[m,[g,"Envizen"],[w,S]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[g,m,[w,S]],[/android.+[;\/]\s*(Trio[\s\w\-\.]+)\s+build/i],[m,[g,"MachSpeed"],[w,S]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[g,m,[w,S]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[m,[g,"Rotor"],[w,S]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[g,m,[w,S]],[/android .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[m,[w,k]],[/android .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[m,[w,S]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[w,C.lowerize],g,m],[/[\s\/\(](smart-?tv)[;\)]/i],[[w,E]],[/(android[\w\.\s\-]{0,9});.+build/i],[m,[g,"Generic"]],[/(phone)/i],[[w,k]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[v,[h,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[h,v],[/rv\:([\w\.]{1,9}).+(gecko)/i],[v,h]],os:[[/(xbox);\s+xbox\s([^\);]+)/i,/microsoft\s(windows)\s(vista|xp)/i],[h,v],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[h,[v,O.str,P.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[h,"Windows"],[v,O.str,P.os.windows.version]],[/\((bb)(10);/i],[[h,"BlackBerry"],v],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[h,v],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[h,"Symbian"],v],[/\((series40);/i],[h],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[h,"Firefox OS"],v],[/crkey\/([\d\.]+)/i],[v,[h,"Chromecast"]],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[h,v],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[h,"Chromium OS"],v],[/(sunos)\s?([\w\.\d]*)/i],[[h,"Solaris"],v],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[h,v],[/(haiku)\s(\w+)/i],[h,v],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[v,/_/g,"."],[h,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[h,"Mac OS"],[v,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[h,v]]},j=function(e,n){if("object"===typeof e&&(n=e,e=o),!(this instanceof j))return new j(e,n).getResult();var t=e||(r&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:a),i=n?C.extend(T,n):T;return this.getBrowser=function(){var e={name:o,version:o};return O.rgx.call(e,t,i.browser),e.major=C.major(e.version),e},this.getCPU=function(){var e={architecture:o};return O.rgx.call(e,t,i.cpu),e},this.getDevice=function(){var e={vendor:o,model:o,type:o};return O.rgx.call(e,t,i.device),e},this.getEngine=function(){var e={name:o,version:o};return O.rgx.call(e,t,i.engine),e},this.getOS=function(){var e={name:o,version:o};return O.rgx.call(e,t,i.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return t},this.setUA=function(e){return t=e,this},this};j.VERSION=s,j.BROWSER={NAME:h,MAJOR:l,VERSION:v},j.CPU={ARCHITECTURE:y},j.DEVICE={MODEL:m,VENDOR:g,TYPE:w,CONSOLE:b,MOBILE:k,SMARTTV:E,TABLET:S,WEARABLE:x,EMBEDDED:A},j.ENGINE={NAME:h,VERSION:v},j.OS={NAME:h,VERSION:v},typeof n!==u?(typeof e!==u&&e.exports&&(n=e.exports=j),n.UAParser=j):(i=function(){return j}.call(n,t,n,e),i===o||(e.exports=i));var L=r&&(r.jQuery||r.Zepto);if(L&&!L.ua){var R=new j;L.ua=R.getResult(),L.ua.get=function(){return R.getUA()},L.ua.set=function(e){R.setUA(e);var n=R.getResult();for(var t in n)L.ua[t]=n[t]}}})("object"===typeof window?window:this)},"380a":function(e,n){},"3baa":function(e,n){var t=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w\/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%d trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:([\w_\/]*) (\S*)(?: (\S*))?/,names:["value","uri","config"],format:function(e){return null!=e.config?"extmap:%s %s %s":"extmap:%s %s"}},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation"],format:function(e){var n="candidate:%s %d %s %d %s %d typ %s";return n+=null!=e.raddr?" raddr %s rport %d":"%v%v",n+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(n+=" generation %d"),n}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_]*):(.*)/,names:["id","attribute","value"],format:"ssrc:%d %s:%s"},{push:"ssrcGroups",reg:/^ssrc-group:(\w*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{push:"invalid",names:["value"]}]};Object.keys(t).forEach((function(e){var n=t[e];n.forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))}))},"3fb5":function(e,n){"function"===typeof Object.create?e.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,n){if(n){e.super_=n;var t=function(){};t.prototype=n.prototype,e.prototype=new t,e.prototype.constructor=e}}},4918:function(e,n,t){n.Interop=t("fd20")},"58fa":function(e,n,t){var i=t("93be");n.write=function(e,n){return"undefined"!==typeof e&&"undefined"!==typeof e.media&&Array.isArray(e.media)&&e.media.forEach((function(e){"undefined"!==typeof e.sources&&0!==Object.keys(e.sources).length&&(e.ssrcs=[],Object.keys(e.sources).forEach((function(n){var t=e.sources[n];Object.keys(t).forEach((function(i){e.ssrcs.push({id:n,attribute:i,value:t[i]})}))})),delete e.sources),"undefined"!==typeof e.ssrcGroups&&Array.isArray(e.ssrcGroups)&&e.ssrcGroups.forEach((function(e){"undefined"!==typeof e.ssrcs&&Array.isArray(e.ssrcs)&&(e.ssrcs=e.ssrcs.join(" "))}))})),"undefined"!==typeof e&&"undefined"!==typeof e.groups&&Array.isArray(e.groups)&&e.groups.forEach((function(e){"undefined"!==typeof e.mids&&Array.isArray(e.mids)&&(e.mids=e.mids.join(" "))})),i.write(e,n)},n.parse=function(e){var n=i.parse(e);return"undefined"!==typeof n&&"undefined"!==typeof n.media&&Array.isArray(n.media)&&n.media.forEach((function(e){"undefined"!==typeof e.ssrcs&&Array.isArray(e.ssrcs)&&(e.sources={},e.ssrcs.forEach((function(n){e.sources[n.id]||(e.sources[n.id]={}),e.sources[n.id][n.attribute]=n.value})),delete e.ssrcs),"undefined"!==typeof e.ssrcGroups&&Array.isArray(e.ssrcGroups)&&e.ssrcGroups.forEach((function(e){"string"===typeof e.ssrcs&&(e.ssrcs=e.ssrcs.split(" "))}))})),"undefined"!==typeof n&&"undefined"!==typeof n.groups&&Array.isArray(n.groups)&&n.groups.forEach((function(e){"string"===typeof e.mids&&(e.mids=e.mids.split(" "))})),n}},"68cb":function(e,n,t){var i,r=t("a7b3");function o(e,n){var t=-1/0;e.getFloatFrequencyData(n);for(var i=4,r=n.length;i<r;i++)n[i]>t&&n[i]<0&&(t=n[i]);return t}"undefined"!==typeof window&&(i=window.AudioContext||window.webkitAudioContext);var s=null;e.exports=function(e,n){var t=new r;if(!i)return t;n=n||{};var a,c,d,u=n.smoothing||.1,f=n.interval||50,p=n.threshold,l=n.play,m=n.history||10,h=!0;s=n.audioContext||s||new i,d=s.createAnalyser(),d.fftSize=512,d.smoothingTimeConstant=u,c=new Float32Array(d.frequencyBinCount),e.jquery&&(e=e[0]),e instanceof HTMLAudioElement||e instanceof HTMLVideoElement?(a=s.createMediaElementSource(e),"undefined"===typeof l&&(l=!0),p=p||-50):(a=s.createMediaStreamSource(e),p=p||-50),a.connect(d),l&&d.connect(s.destination),t.speaking=!1,t.suspend=function(){return s.suspend()},t.resume=function(){return s.resume()},Object.defineProperty(t,"state",{get:function(){return s.state}}),s.onstatechange=function(){t.emit("state_change",s.state)},t.setThreshold=function(e){p=e},t.setInterval=function(e){f=e},t.stop=function(){h=!1,t.emit("volume_change",-100,p),t.speaking&&(t.speaking=!1,t.emit("stopped_speaking")),d.disconnect(),a.disconnect()},t.speakingHistory=[];for(var w=0;w<m;w++)t.speakingHistory.push(0);var g=function(){setTimeout((function(){if(h){var e=o(d,c);t.emit("volume_change",e,p);var n=0;if(e>p&&!t.speaking){for(var i=t.speakingHistory.length-3;i<t.speakingHistory.length;i++)n+=t.speakingHistory[i];n>=2&&(t.speaking=!0,t.emit("speaking"))}else if(e<p&&t.speaking){for(i=0;i<t.speakingHistory.length;i++)n+=t.speakingHistory[i];0==n&&(t.speaking=!1,t.emit("stopped_speaking"))}t.speakingHistory.shift(),t.speakingHistory.push(0+(e>p)),g()}}),f)};return g(),t}},"6bd0":function(e,n){e.exports=function e(n){if(!n)return!1;if(this.length!=n.length)return!1;for(var t=0,i=this.length;t<i;t++)if(this[t]instanceof Array&&n[t]instanceof Array){if(!e.apply(this[t],[n[t]]))return!1}else if(this[t]!=n[t])return!1;return!0}},"93be":function(e,n,t){var i=t("95e8"),r=t("f0bc");n.write=r,n.parse=i.parse,n.parseFmtpConfig=i.parseFmtpConfig,n.parsePayloads=i.parsePayloads,n.parseRemoteCandidates=i.parseRemoteCandidates},"95e8":function(e,n,t){var i=function(e){return String(Number(e))===e?Number(e):e},r=function(e,n,t,r){if(r&&!t)n[r]=i(e[1]);else for(var o=0;o<t.length;o+=1)null!=e[o+1]&&(n[t[o]]=i(e[o+1]))},o=function(e,n,t){var i=e.name&&e.names;e.push&&!n[e.push]?n[e.push]=[]:i&&!n[e.name]&&(n[e.name]={});var o=e.push?{}:i?n[e.name]:n;r(t.match(e.reg),o,e.names,e.name),e.push&&n[e.push].push(o)},s=t("3baa"),a=RegExp.prototype.test.bind(/^([a-z])=(.*)/);n.parse=function(e){var n={},t=[],i=n;return e.split(/(\r\n|\r|\n)/).filter(a).forEach((function(e){var n=e[0],r=e.slice(2);"m"===n&&(t.push({rtp:[],fmtp:[]}),i=t[t.length-1]);for(var a=0;a<(s[n]||[]).length;a+=1){var c=s[n][a];if(c.reg.test(r))return o(c,i,r)}})),n.media=t,n};var c=function(e,n){var t=n.split("=");return 2===t.length&&(e[t[0]]=i(t[1])),e};n.parseFmtpConfig=function(e){return e.split(/\;\s?/).reduce(c,{})},n.parsePayloads=function(e){return e.split(" ").map(Number)},n.parseRemoteCandidates=function(e){for(var n=[],t=e.split(" ").map(i),r=0;r<t.length;r+=3)n.push({component:t[r],ip:t[r+1],port:t[r+2]});return n}},"96e4":function(e,n,t){},a21b:function(e,n){var t=["stun:","turn:"];e.exports=function(e){var n,i,r=(e||{}).url||e,o={};return"string"==typeof r||r instanceof String?(r=r.trim(),n=t[t.indexOf(r.slice(0,5))],n?(r=r.slice(5),i=r.split("@"),o.username=e.username,o.credential=e.credential,i.length>1&&(r=i[1],i=i[0].split(":"),o.username=i[0],o.credential=(e||{}).credential||i[1]||""),o.url=n+r,o.urls=[o.url],o):e):e}},a7b3:function(e,n){function t(){}e.exports=t,t.mixin=function(e){var n=e.prototype||e;n.isWildEmitter=!0,n.on=function(e,n,t){this.callbacks=this.callbacks||{};var i=3===arguments.length,r=i?arguments[1]:void 0,o=i?arguments[2]:arguments[1];return o._groupName=r,(this.callbacks[e]=this.callbacks[e]||[]).push(o),this},n.once=function(e,n,t){var i=this,r=3===arguments.length,o=r?arguments[1]:void 0,s=r?arguments[2]:arguments[1];function a(){i.off(e,a),s.apply(this,arguments)}return this.on(e,o,a),this},n.releaseGroup=function(e){var n,t,i,r;for(n in this.callbacks=this.callbacks||{},this.callbacks)for(r=this.callbacks[n],t=0,i=r.length;t<i;t++)r[t]._groupName===e&&(r.splice(t,1),t--,i--);return this},n.off=function(e,n){this.callbacks=this.callbacks||{};var t,i=this.callbacks[e];return i?1===arguments.length?(delete this.callbacks[e],this):(t=i.indexOf(n),-1!==t&&(i.splice(t,1),0===i.length&&delete this.callbacks[e]),this):this},n.emit=function(e){this.callbacks=this.callbacks||{};var n,t,i,r=[].slice.call(arguments,1),o=this.callbacks[e],s=this.getWildcardCallbacks(e);if(o)for(i=o.slice(),n=0,t=i.length;n<t;++n){if(!i[n])break;i[n].apply(this,r)}if(s)for(t=s.length,i=s.slice(),n=0,t=i.length;n<t;++n){if(!i[n])break;i[n].apply(this,[e].concat(r))}return this},n.getWildcardCallbacks=function(e){this.callbacks=this.callbacks||{};var n,t,i=[];for(n in this.callbacks)t=n.split("*"),("*"===n||2===t.length&&e.slice(0,t[0].length)===t[0])&&(i=i.concat(this.callbacks[n]));return i}},t.mixin(t)},a9e6:function(e,n,t){var i=t("f1f1"),r=t("3fb5"),o=t("2b80"),s=t("c64e"),a=t("68cb"),c=t("faa1").EventEmitter,d=t("c1c0").recursive.bind(void 0,!0),u=t("4918"),f="undefined"===typeof window?console:window.Logger||console;try{t("380a")}catch(B){"undefined"===typeof getScreenConstraints&&(f.warn("screen sharing is not available"),getScreenConstraints=function(e,n){n(new Error("This library is not enabled for screen sharing"))})}var p={audio:!0,video:{width:640,framerate:15}},l="undefined"!==typeof window&&window.navigator?window.navigator.userAgent:"",m=new o(l),h=m.getBrowser();function w(e){var n=document.createElement("script");n.src=e;var t=document.querySelector("script");t.parentNode.insertBefore(n,t)}function g(){"IE"===h.name&&w("https://cdn.temasys.io/adapterjs/0.15.x/adapter.debug.js")}g();var v=!1;function y(e){e&&f.error(e)}function b(e){e.stop&&e.stop()}function k(e){e.getTracks().forEach(b)}"Chrome"!==h.name&&"Chromium"!==h.name||(f.debug(h.name+": using SDP PlanB"),v=!0);var S=function(e){return"undefined"===typeof e||null===e?"":"type: "+e.type+"\r\n"+e.sdp};function E(e,n){var t=[];function i(e,n){"undefined"!==typeof AdapterJS&&"IE"===AdapterJS.webrtcDetectedBrowser&&AdapterJS.webrtcDetectedVersion>=9?n.onsignalingstatechange=e:n.addEventListener("signalingstatechange",e)}var r=function(){if("stable"===e.signalingState)while(t.length){var n=t.shift();e.addIceCandidate(n.candidate,n.callback,n.callback)}};return i(r,e),function(i,r){switch(r=r||n,e.signalingState){case"closed":r(new Error("PeerConnection object is closed"));break;case"stable":if(e.remoteDescription){e.addIceCandidate(i,r,r);break}default:t.push({candidate:i,callback:r})}}}function x(e){var n=e.indexOf("a=ssrc-group:FID");return n>0?e.slice(0,n):e}function A(e){var n=e.getVideoTracks();if(!n.length)return f.warn("No video tracks available in the video stream"),"";var t=["a=x-google-flag:conference","a=ssrc-group:SIM 1 2 3","a=ssrc:1 cname:localVideo","a=ssrc:1 msid:"+e.id+" "+n[0].id,"a=ssrc:1 mslabel:"+e.id,"a=ssrc:1 label:"+n[0].id,"a=ssrc:2 cname:localVideo","a=ssrc:2 msid:"+e.id+" "+n[0].id,"a=ssrc:2 mslabel:"+e.id,"a=ssrc:2 label:"+n[0].id,"a=ssrc:3 cname:localVideo","a=ssrc:3 msid:"+e.id+" "+n[0].id,"a=ssrc:3 mslabel:"+e.id,"a=ssrc:3 label:"+n[0].id];return t.push(""),t.join("\n")}function C(e){for(var n=(new Date).getTime(),t=0;t<1e7;t++)if((new Date).getTime()-n>e)break}function O(e,n){"undefined"!==typeof AdapterJS&&"IE"===AdapterJS.webrtcDetectedBrowser&&AdapterJS.webrtcDetectedVersion>=9?n.onicecandidate=e:n.addEventListener("icecandidate",e)}function P(e,n,t){if(!(this instanceof P))return new P(e,n,t);P.super_.call(this),n instanceof Function&&(t=n,n=void 0),n=n||{},t=(t||y).bind(this);var r,o=this,a=n.localVideo,l=n.remoteVideo,m=n.videoStream,w=n.audioStream,g=n.mediaConstraints,b=n.peerConnection,k=n.sendSource||"webcam",T=n.dataChannelConfig,j=n.dataChannels||!1,L=s(),R=d({iceServers:i()},n.configuration),_=n.onicecandidate;_&&this.on("icecandidate",_);var B=n.oncandidategatheringdone;B&&this.on("candidategatheringdone",B);var M=n.simulcast,D=n.multistream,N=new u.Interop,I=[],U=!1;if(Object.defineProperties(this,{peerConnection:{get:function(){return b}},id:{value:n.id||L,writable:!1},remoteVideo:{get:function(){return l}},localVideo:{get:function(){return a}},dataChannel:{get:function(){return r}},currentFrame:{get:function(){if(l){if(l.readyState<l.HAVE_CURRENT_DATA)throw new Error("No video stream data available");var e=document.createElement("canvas");return e.width=l.videoWidth,e.height=l.videoHeight,e.getContext("2d").drawImage(l,0,0),e}}}}),!b&&(b=new RTCPeerConnection(R),j&&!r)){var F="WebRtcPeer-"+o.id,V=void 0;T&&(F=T.id||F,V=T.options),r=b.createDataChannel(F,V),T&&(r.onopen=T.onopen,r.onclose=T.onclose,r.onmessage=T.onmessage,r.onbufferedamountlow=T.onbufferedamountlow,r.onerror=T.onerror||y)}!b.getLocalStreams&&b.getSenders&&(b.getLocalStreams=function(){var e=new MediaStream;return b.getSenders().forEach((function(n){e.addTrack(n.track)})),[e]}),!b.getRemoteStreams&&b.getReceivers&&(b.getRemoteStreams=function(){var e=new MediaStream;return b.getReceivers().forEach((function(n){e.addTrack(n.track)})),[e]});var z=function(e){var n,t=e.candidate;c.listenerCount(o,"icecandidate")||c.listenerCount(o,"candidategatheringdone")?t?(n=D&&v?N.candidateToUnifiedPlan(t):t,"undefined"===typeof AdapterJS&&o.emit("icecandidate",n),U=!1):U||("undefined"!==typeof AdapterJS&&"IE"===AdapterJS.webrtcDetectedBrowser&&AdapterJS.webrtcDetectedVersion>=9?c.prototype.emit("candidategatheringdone",n):o.emit("candidategatheringdone"),U=!0):U||(I.push(t),t||(U=!0))};O(z,b),b.onaddstream=n.onaddstream,b.onnegotiationneeded=n.onnegotiationneeded,this.on("newListener",(function(e,n){if("icecandidate"===e||"candidategatheringdone"===e)while(I.length){var t=I.shift();!t===("candidategatheringdone"===e)&&n(t)}}));var G=E(b);function J(){if(l){l.pause();var e=b.getRemoteStreams()[0];l.srcObject=e,f.debug("Remote stream:",e),"undefined"!==typeof AdapterJS&&"IE"===AdapterJS.webrtcDetectedBrowser&&AdapterJS.webrtcDetectedVersion>=9?l=attachMediaStream(l,e):l.load()}}function W(e){return M&&("Chrome"===h.name||"Chromium"===h.name?(f.debug("Adding multicast info"),e=new RTCSessionDescription({type:e.type,sdp:x(e.sdp)+A(m)})):f.warn("Simulcast is only available in Chrome browser.")),e}function H(){"closed"===b.signalingState&&t('The peer connection object is in "closed" state. This is most likely due to an invocation of the dispose method before accepting in the dialogue'),m&&a&&o.showLocalVideo(),m&&m.getTracks().forEach((function(e){b.addTrack(e,m)})),w&&w.getTracks().forEach((function(e){b.addTrack(e,w)})),t()}if(this.addIceCandidate=function(e,n){var t;t=D&&v?N.candidateToPlanB(e):new RTCIceCandidate(e),f.debug("Remote ICE candidate received",e),n=(n||y).bind(this),G(t,n)},this.generateOffer=function(n){if(n=n.bind(this),"recvonly"===e){var t=!g||"boolean"!==typeof g.audio||g.audio,i=!g||"boolean"!==typeof g.video||g.video;t&&b.addTransceiver("audio",{direction:"recvonly"}),i&&b.addTransceiver("video",{direction:"recvonly"})}else"sendonly"===e&&b.getTransceivers().forEach((function(e){e.direction="sendonly"}));if("undefined"!==typeof AdapterJS&&"IE"===AdapterJS.webrtcDetectedBrowser&&AdapterJS.webrtcDetectedVersion>=9){var r=function(){C(1e3);var e=b.localDescription;f.debug("Local description set\n",e.sdp),D&&v&&(e=N.toUnifiedPlan(e),f.debug("offer::origPlanB->UnifiedPlan",S(e))),n(null,e.sdp,o.processAnswer.bind(o))},s=function(e){f.debug("Created SDP offer"),f.debug("Local description set\n",b.localDescription),b.setLocalDescription(e,r,n)};b.createOffer(s,n)}else b.createOffer().then((function(e){return f.debug("Created SDP offer"),e=W(e),b.setLocalDescription(e)})).then((function(){var e=b.localDescription;f.debug("Local description set\n",e.sdp),D&&v&&(e=N.toUnifiedPlan(e),f.debug("offer::origPlanB->UnifiedPlan",S(e))),n(null,e.sdp,o.processAnswer.bind(o))})).catch(n)},this.getLocalSessionDescriptor=function(){return b.localDescription},this.getRemoteSessionDescriptor=function(){return b.remoteDescription},this.showLocalVideo=function(){a.srcObject=m,a.muted=!0,"undefined"!==typeof AdapterJS&&"IE"===AdapterJS.webrtcDetectedBrowser&&AdapterJS.webrtcDetectedVersion>=9&&(a=attachMediaStream(a,m))},this.send=function(e){r&&"open"===r.readyState?r.send(e):f.warn("Trying to send data over a non-existing or closed data channel")},this.processAnswer=function(e,n){n=(n||y).bind(this);var t=new RTCSessionDescription({type:"answer",sdp:e});if(D&&v){var i=N.toPlanB(t);f.debug("asnwer::planB",S(i)),t=i}if(f.debug("SDP answer received, setting remote description"),"closed"===b.signalingState)return n("PeerConnection is closed");b.setRemoteDescription(t).then((function(){J(),n()}),n)},this.processOffer=function(e,n){n=n.bind(this);var t=new RTCSessionDescription({type:"offer",sdp:e});if(D&&v){var i=N.toPlanB(t);f.debug("offer::planB",S(i)),t=i}if(f.debug("SDP offer received, setting remote description"),"closed"===b.signalingState)return n("PeerConnection is closed");b.setRemoteDescription(t).then((function(){return J()})).then((function(){return b.createAnswer()})).then((function(e){return e=W(e),f.debug("Created SDP answer"),b.setLocalDescription(e)})).then((function(){var e=b.localDescription;D&&v&&(e=N.toUnifiedPlan(e),f.debug("answer::origPlanB->UnifiedPlan",S(e))),f.debug("Local description set\n",e.sdp),n(null,e.sdp)})).catch(n)},"recvonly"===e||m||w)setTimeout(H,0);else{function q(e){void 0===e&&(e=p),"undefined"!==typeof AdapterJS&&"IE"===AdapterJS.webrtcDetectedBrowser&&AdapterJS.webrtcDetectedVersion>=9?navigator.getUserMedia(e,(function(e){m=e,H()}),t):navigator.mediaDevices.getUserMedia(e).then((function(e){m=e,H()})).catch(t)}"webcam"===k?q(g):getScreenConstraints(k,(function(e,n){if(e)return t(e);constraints=[g],constraints.unshift(n),q(d.apply(void 0,constraints))}),L)}this.on("_dispose",(function(){a&&(a.pause(),a.srcObject=null,"undefined"===typeof AdapterJS&&a.load(),a.muted=!1),l&&(l.pause(),l.srcObject=null,"undefined"===typeof AdapterJS&&l.load()),o.removeAllListeners(),"undefined"!==typeof window&&void 0!==window.cancelChooseDesktopMedia&&window.cancelChooseDesktopMedia(L)}))}function T(e){var n="get"+e+"Tracks";return{enumerable:!0,get:function(){if(this.peerConnection){var e=this.peerConnection.getLocalStreams();if(e.length){for(var t,i=0;t=e[i];i++)for(var r,o=t[n](),s=0;r=o[s];s++)if(!r.enabled)return!1;return!0}}},set:function(e){function t(n){n.enabled=e}this.peerConnection.getLocalStreams().forEach((function(e){e[n]().forEach(t)}))}}}function j(e,n){if(!(this instanceof j))return new j(e,n);j.super_.call(this,"recvonly",e,n)}function L(e,n){if(!(this instanceof L))return new L(e,n);L.super_.call(this,"sendonly",e,n)}function R(e,n){if(!(this instanceof R))return new R(e,n);R.super_.call(this,"sendrecv",e,n)}function _(e,n){return a(e,n)}r(P,c),Object.defineProperties(P.prototype,{enabled:{enumerable:!0,get:function(){return this.audioEnabled&&this.videoEnabled},set:function(e){this.audioEnabled=this.videoEnabled=e}},audioEnabled:T("Audio"),videoEnabled:T("Video")}),P.prototype.getLocalStream=function(e){if(this.peerConnection)return this.peerConnection.getLocalStreams()[e||0]},P.prototype.getRemoteStream=function(e){if(this.peerConnection)return this.peerConnection.getRemoteStreams()[e||0]},P.prototype.dispose=function(){f.debug("Disposing WebRtcPeer");var e=this.peerConnection,n=this.dataChannel;try{if(n){if("closed"===n.readyState)return;n.close()}if(e){if("closed"===e.signalingState)return;e.getLocalStreams().forEach(k),e.close()}}catch(t){f.warn("Exception disposing webrtc peer "+t)}"undefined"===typeof AdapterJS&&this.emit("_dispose")},r(j,P),r(L,P),r(R,P),n.bufferizeCandidates=E,n.WebRtcPeerRecvonly=j,n.WebRtcPeerSendonly=L,n.WebRtcPeerSendrecv=R,n.hark=_},c09e:function(e){e.exports=JSON.parse("[]")},c1c0:function(e,n,t){(function(e){(function(n){var t=function(e){return o(!0===e,!1,arguments)},i="merge";function r(e,n){if("object"!==s(e))return n;for(var t in n)"object"===s(e[t])&&"object"===s(n[t])?e[t]=r(e[t],n[t]):e[t]=n[t];return e}function o(e,n,i){var o=i[0],a=i.length;(e||"object"!==s(o))&&(o={});for(var c=0;c<a;++c){var d=i[c],u=s(d);if("object"===u)for(var f in d)if("__proto__"!==f){var p=e?t.clone(d[f]):d[f];o[f]=n?r(o[f],p):p}}return o}function s(e){return{}.toString.call(e).slice(8,-1).toLowerCase()}t.recursive=function(e){return o(!0===e,!0,arguments)},t.clone=function(e){var n,i,r=e,o=s(e);if("array"===o)for(r=[],i=e.length,n=0;n<i;++n)r[n]=t.clone(e[n]);else if("object"===o)for(n in r={},e)r[n]=t.clone(e[n]);return r},n?e.exports=t:window[i]=t})(e&&"object"===typeof e.exports&&e.exports)}).call(this,t("62e4")(e))},c64e:function(e,n,t){var i=t("e1f4"),r=t("2366");function o(e,n,t){var o=n&&t||0;"string"==typeof e&&(n="binary"===e?new Array(16):null,e=null),e=e||{};var s=e.random||(e.rng||i)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,n)for(var a=0;a<16;++a)n[o+a]=s[a];return n||r(s)}e.exports=o},cb90:function(e,n,t){"use strict";var i=t("7a23"),r=Object(i["Z"])("data-v-5ffaf0ea");Object(i["G"])("data-v-5ffaf0ea");var o={class:"position-relative"},s={ref:"videoRef",controls:"",autoplay:"",class:"w100 h100",controlsList:"nodownload nofullscreen noremoteplayback",disablePictureInPicture:""},a={class:"mr10"};Object(i["E"])();var c=r((function(e,n){return Object(i["D"])(),Object(i["j"])("section",o,[Object(i["n"])("video",s,null,512),e.item.level<5?(Object(i["D"])(),Object(i["j"])("div",{key:0,class:"warn-message position-absolute w100 flex-row align-center",style:{backgroundColor:e.bkColors[e.item.level-1]+"70"}},[Object(i["n"])("span",null,Object(i["O"])(e.item.level),1),Object(i["n"])("span",null,Object(i["O"])(e.item.reason),1),Object(i["n"])("span",null,Object(i["O"])(e.item.value),1)],4)):Object(i["k"])("",!0),Object(i["n"])("div",{class:"work-place flex-row align-center position-absolute",style:{color:e.bkColors[e.item.level-1]||"#64E1F2"}},[Object(i["n"])("span",a,Object(i["O"])(e.item.coal),1),Object(i["n"])("span",null,Object(i["O"])(e.item.place),1)],4)])})),d=t("1da1"),u=(t("96cf"),t("d519")),f=t.n(u),p=Object(i["o"])({name:"video-test",props:{address:{type:String,default:"rtsp://wowzaec2demo.streamlock.net/vod/mp4:BigBuckBunny_115k.mov"},auto:{type:Boolean,default:!1},item:{type:Object,default:function(){return{coal:"海湾煤矿",id:4,level:3,place:"D24386工作面",reason:"过水断面水位超标"}}}},data:function(){return{videoServer:"ws://192.168.1.206:8888/kurento",webRtcPeer:null,pipeline:null,bkColors:["#FF2516","#FAAB1B","#FFFB00","#06F398"]}},mounted:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$nextTick();case 2:e.auto&&e.start();case 3:case"end":return n.stop()}}),n)})))()},methods:{start:function(){var e=this;this.webRtcPeer=f.a.WebRtcPeer.WebRtcPeerRecvonly({remoteVideo:this.$refs.videoRef},(function(n){if(n)return console.error(n);e.webRtcPeer.generateOffer(e.onOffer)}))},onError:function(e){e&&this.end()},setIceCandidateCallbacks:function(e,n,t){n.on("icecandidate",(function(n){n=window.kurentoClient.register.complexTypes.IceCandidate(n),e.addIceCandidate(n,t)})),e.on("OnIceCandidate",(function(e){var i=e.candidate;n.addIceCandidate(i,t)}))},onOffer:function(e,n){var t=this;if(e)return this.onError(e);window.kurentoClient(this.videoServer,{},(function(e,i){if(e)return t.onError(e);i.create("MediaPipeline",(function(e,i){if(e)return t.onError(e);t.pipeline=i,t.pipeline.create("PlayerEndpoint",{uri:t.address},(function(e,i){if(e)return t.onError(e);t.pipeline.create("WebRtcEndpoint",(function(e,r){if(e)return t.onError(e);t.setIceCandidateCallbacks(r,t.webRtcPeer,t.onError),r.processOffer(n,(function(e,n){if(e)return t.onError(e);r.gatherCandidates(t.onError),t.webRtcPeer.processAnswer(n)})),i.connect(r,(function(e){if(e)return t.onError(e);i.play((function(e){if(e)return t.onError(e)}))}))}))}))}))}))},end:function(){this.webRtcPeer&&(this.webRtcPeer.dispose(),this.webRtcPeer=null),this.pipeline&&(this.pipeline.release(),this.pipeline=null)}}});t("f314");p.render=c,p.__scopeId="data-v-5ffaf0ea";n["a"]=p},d519:function(e,n,t){
/**
 * This module contains a set of reusable components that have been found useful
 * during the development of the WebRTC applications with Kurento.
 * 
 * @module kurentoUtils
 * 
 * @copyright 2014 Kurento (http://kurento.org/)
 * @license ALv2
 */
var i=t("a9e6");n.WebRtcPeer=i},e1f4:function(e,n){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var i=new Uint8Array(16);e.exports=function(){return t(i),i}}else{var r=new Array(16);e.exports=function(){for(var e,n=0;n<16;n++)0===(3&n)&&(e=4294967296*Math.random()),r[n]=e>>>((3&n)<<3)&255;return r}}},e5b5:function(e){e.exports=JSON.parse('["stun.l.google.com:19302","stun1.l.google.com:19302","stun2.l.google.com:19302","stun3.l.google.com:19302","stun4.l.google.com:19302","stun.ekiga.net","stun.ideasip.com","stun.schlund.de","stun.stunprotocol.org:3478","stun.voiparound.com","stun.voipbuster.com","stun.voipstunt.com","stun.voxgratia.org"]')},f0bc:function(e,n,t){var i=t("3baa"),r=/%[sdv%]/g,o=function(e){var n=1,t=arguments,i=t.length;return e.replace(r,(function(e){if(n>=i)return e;var r=t[n];switch(n+=1,e){case"%%":return"%";case"%s":return String(r);case"%d":return Number(r);case"%v":return""}}))},s=function(e,n,t){var i=n.format instanceof Function?n.format(n.push?t:t[n.name]):n.format,r=[e+"="+i];if(n.names)for(var s=0;s<n.names.length;s+=1){var a=n.names[s];n.name?r.push(t[n.name][a]):r.push(t[n.names[s]])}else r.push(t[n.name]);return o.apply(null,r)},a=["v","o","s","i","u","e","p","c","b","t","r","z","a"],c=["i","c","b","a"];e.exports=function(e,n){n=n||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var t=n.outerOrder||a,r=n.innerOrder||c,o=[];return t.forEach((function(n){i[n].forEach((function(t){t.name in e&&null!=e[t.name]?o.push(s(n,t,e)):t.push in e&&null!=e[t.push]&&e[t.push].forEach((function(e){o.push(s(n,t,e))}))}))})),e.media.forEach((function(e){o.push(s("m",i.m[0],e)),r.forEach((function(n){i[n].forEach((function(t){t.name in e&&null!=e[t.name]?o.push(s(n,t,e)):t.push in e&&null!=e[t.push]&&e[t.push].forEach((function(e){o.push(s(n,t,e))}))}))}))})),o.join("\r\n")+"\r\n"}},f1f1:function(e,n,t){"use strict";var i=t("a21b"),r=function(e){var n,r={stun:(e||{}).stun||t("e5b5"),turn:(e||{}).turn||t("c09e")},o=(e||{}).stunCount||2,s=(e||{}).turnCount||0;function a(e,n){var t,o=[],s=[].concat(r[e]);while(s.length&&o.length<n)t=Math.random()*s.length|0,o=o.concat(s.splice(t,1));return o.map((function(n){return"string"===typeof n||n instanceof String?i(e+":"+n):n}))}return n=[].concat(a("stun",o)),s&&(n=n.concat(a("turn",s))),n};e.exports=r},f314:function(e,n,t){"use strict";t("96e4")},faa1:function(e,n,t){"use strict";var i,r="object"===typeof Reflect?Reflect:null,o=r&&"function"===typeof r.apply?r.apply:function(e,n,t){return Function.prototype.apply.call(e,n,t)};function s(e){console&&console.warn&&console.warn(e)}i=r&&"function"===typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!==e};function c(){c.init.call(this)}e.exports=c,e.exports.once=b,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var d=10;function u(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function f(e){return void 0===e._maxListeners?c.defaultMaxListeners:e._maxListeners}function p(e,n,t,i){var r,o,a;if(u(t),o=e._events,void 0===o?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",n,t.listener?t.listener:t),o=e._events),a=o[n]),void 0===a)a=o[n]=t,++e._eventsCount;else if("function"===typeof a?a=o[n]=i?[t,a]:[a,t]:i?a.unshift(t):a.push(t),r=f(e),r>0&&a.length>r&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=n,c.count=a.length,s(c)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(e,n,t){var i={fired:!1,wrapFn:void 0,target:e,type:n,listener:t},r=l.bind(i);return r.listener=t,i.wrapFn=r,r}function h(e,n,t){var i=e._events;if(void 0===i)return[];var r=i[n];return void 0===r?[]:"function"===typeof r?t?[r.listener||r]:[r]:t?y(r):g(r,r.length)}function w(e){var n=this._events;if(void 0!==n){var t=n[e];if("function"===typeof t)return 1;if(void 0!==t)return t.length}return 0}function g(e,n){for(var t=new Array(n),i=0;i<n;++i)t[i]=e[i];return t}function v(e,n){for(;n+1<e.length;n++)e[n]=e[n+1];e.pop()}function y(e){for(var n=new Array(e.length),t=0;t<n.length;++t)n[t]=e[t].listener||e[t];return n}function b(e,n){return new Promise((function(t,i){function r(t){e.removeListener(n,o),i(t)}function o(){"function"===typeof e.removeListener&&e.removeListener("error",r),t([].slice.call(arguments))}S(e,n,o,{once:!0}),"error"!==n&&k(e,r,{once:!0})}))}function k(e,n,t){"function"===typeof e.on&&S(e,"error",n,t)}function S(e,n,t,i){if("function"===typeof e.on)i.once?e.once(n,t):e.on(n,t);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(n,(function r(o){i.once&&e.removeEventListener(n,r),t(o)}))}}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");d=e}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},c.prototype.getMaxListeners=function(){return f(this)},c.prototype.emit=function(e){for(var n=[],t=1;t<arguments.length;t++)n.push(arguments[t]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var s;if(n.length>0&&(s=n[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=r[e];if(void 0===c)return!1;if("function"===typeof c)o(c,this,n);else{var d=c.length,u=g(c,d);for(t=0;t<d;++t)o(u[t],this,n)}return!0},c.prototype.addListener=function(e,n){return p(this,e,n,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(e,n){return p(this,e,n,!0)},c.prototype.once=function(e,n){return u(n),this.on(e,m(this,e,n)),this},c.prototype.prependOnceListener=function(e,n){return u(n),this.prependListener(e,m(this,e,n)),this},c.prototype.removeListener=function(e,n){var t,i,r,o,s;if(u(n),i=this._events,void 0===i)return this;if(t=i[e],void 0===t)return this;if(t===n||t.listener===n)0===--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,t.listener||n));else if("function"!==typeof t){for(r=-1,o=t.length-1;o>=0;o--)if(t[o]===n||t[o].listener===n){s=t[o].listener,r=o;break}if(r<0)return this;0===r?t.shift():v(t,r),1===t.length&&(i[e]=t[0]),void 0!==i.removeListener&&this.emit("removeListener",e,s||n)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(e){var n,t,i;if(t=this._events,void 0===t)return this;if(void 0===t.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==t[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete t[e]),this;if(0===arguments.length){var r,o=Object.keys(t);for(i=0;i<o.length;++i)r=o[i],"removeListener"!==r&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=t[e],"function"===typeof n)this.removeListener(e,n);else if(void 0!==n)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this},c.prototype.listeners=function(e){return h(this,e,!0)},c.prototype.rawListeners=function(e){return h(this,e,!1)},c.listenerCount=function(e,n){return"function"===typeof e.listenerCount?e.listenerCount(n):w.call(e,n)},c.prototype.listenerCount=w,c.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},fd20:function(e,n,t){"use strict";var i=t("58fa"),r=t("6bd0");function o(){this.cache={mlB2UMap:{},mlU2BMap:{}}}function s(e){"undefined"!==typeof e.setup&&("active"===e.setup?e.setup="passive":"passive"===e.setup&&(e.setup="active"))}e.exports=o,o.prototype.candidateToUnifiedPlan=function(e){var n=new RTCIceCandidate(e);return n.sdpMLineIndex=this.cache.mlB2UMap[n.sdpMLineIndex],n},o.prototype.candidateToPlanB=function(e){var n=new RTCIceCandidate(e);if(0===n.sdpMid.indexOf("audio"))n.sdpMid="audio";else{if(0!==n.sdpMid.indexOf("video"))throw new Error("candidate with "+n.sdpMid+" not allowed");n.sdpMid="video"}return n.sdpMLineIndex=this.cache.mlU2BMap[n.sdpMLineIndex],n},o.prototype.getFirstSendingIndexFromAnswer=function(e){if(!this.cache.answer)return null;var n=i.parse(this.cache.answer);if(n&&n.media&&Array.isArray(n.media))for(var t=0;t<n.media.length;t++)if(n.media[t].type==e&&(!n.media[t].direction||"sendrecv"===n.media[t].direction||"sendonly"===n.media[t].direction))return t;return null},o.prototype.toPlanB=function(e){var n=this;if("object"!==typeof e||null===e||"string"!==typeof e.sdp)return console.warn("An empty description was passed as an argument."),e;var t=i.parse(e.sdp);if("undefined"===typeof t.media||!Array.isArray(t.media)||0===t.media.length)return console.warn("The description has no media."),e;if(t.media.length<=3&&t.media.every((function(e){return-1!==["video","audio","data"].indexOf(e.mid)})))return console.warn("This description does not look like Unified Plan."),e;for(var r=e.sdp,o=!1,s=0;s<t.media.length;s++){var a=t.media[s];a.rtp.forEach((function(e){if("NULL"===e.codec){o=!0;var t=i.parse(n.cache.offer);e.codec=t.media[s].rtp[0].codec}}))}o&&(r=i.write(t)),this.cache[e.type]=r;var c=t.media;t.media=[];var d={},u=[];c.forEach((function(e){if(("string"!==typeof e.rtcpMux||"rtcp-mux"!==e.rtcpMux)&&"inactive"!==e.direction)throw new Error("Cannot convert to Plan B because m-lines without the rtcp-mux attribute were found.");if("undefined"!==typeof d[e.type]&&"inactive"!==d[e.type].direction||(d[e.type]=e),e.protocol!=d[e.type].protocol)throw new Error("Cannot convert to Plan B because m-lines have different protocols and this library does not have support for that");if(e.payloads!=d[e.type].payloads)throw new Error("Cannot convert to Plan B because m-lines have different payloads and this library does not have support for that")})),c.forEach((function(e){if("application"===e.type)return t.media.push(e),void u.push(e.mid);"object"===typeof e.sources&&Object.keys(e.sources).forEach((function(n){"object"!==typeof d[e.type].sources&&(d[e.type].sources={}),d[e.type].sources[n]=e.sources[n],"undefined"!==typeof e.msid&&(d[e.type].sources[n].msid=e.msid)})),"undefined"!==typeof e.ssrcGroups&&Array.isArray(e.ssrcGroups)&&("undefined"!==typeof d[e.type].ssrcGroups&&Array.isArray(d[e.type].ssrcGroups)||(d[e.type].ssrcGroups=[]),d[e.type].ssrcGroups=d[e.type].ssrcGroups.concat(e.ssrcGroups)),d[e.type]===e&&(e.mid=e.type,delete e.bundleOnly,delete e.msid,e.type==c[0].type?(u.unshift(e.type),t.media.unshift(e)):(u.push(e.type),t.media.push(e)))})),"undefined"!==typeof t.groups&&t.groups.some((function(e){if("BUNDLE"===e.type)return e.mids=u.join(" "),!0})),t.msidSemantic={semantic:"WMS",token:"*"};var f=i.write(t);return new RTCSessionDescription({type:e.type,sdp:f})},o.prototype.toUnifiedPlan=function(e){var n=this;if("object"!==typeof e||null===e||"string"!==typeof e.sdp)return console.warn("An empty description was passed as an argument."),e;var t=i.parse(e.sdp);if("undefined"===typeof t.media||!Array.isArray(t.media)||0===t.media.length)return console.warn("The description has no media."),e;if(t.media.length>3||!t.media.every((function(e){return-1!==["video","audio","data"].indexOf(e.mid)})))return console.warn("This description does not look like Plan B."),e;var o=[];t.media.forEach((function(e){o.push(e.mid)}));var a,c,d=!1;if("undefined"!==typeof t.groups&&Array.isArray(t.groups)&&(d=t.groups.every((function(e){return"BUNDLE"!==e.type||r.apply(e.mids.sort(),[o.sort()])}))),!d){var u=!1;if(t.media.forEach((function(e){"inactive"!==e.direction&&(u=!0)})),u)throw new Error("Cannot convert to Unified Plan because m-lines that are not bundled were found.")}if("answer"===e.type)a="offer";else{if("offer"!==e.type)throw new Error("Type '"+e.type+"' not supported.");a="answer"}"undefined"!==typeof this.cache[a]&&(c=i.parse(this.cache[a]));var f,p,l,m,h={audio:{},video:{}},w={},g=0,v=0,y={},b={},k={},S={};if(t.media.forEach((function(t){if(("string"!==typeof t.rtcpMux||"rtcp-mux"!==t.rtcpMux)&&"inactive"!==t.direction)throw new Error("Cannot convert to Unified Plan because m-lines without the rtcp-mux attribute were found.");if("application"!==t.type){var i=t.sources,r=t.ssrcGroups,o=t.port;if("undefined"!=typeof t.candidates&&(f="undefined"!=typeof f?f.concat(t.candidates):t.candidates),"undefined"!=typeof p&&"undefined"!=typeof t.iceUfrag&&p!=t.iceUfrag)throw new Error("Only BUNDLE supported, iceUfrag must be the same for all m-lines.\n\tLast iceUfrag: "+p+"\n\tNew iceUfrag: "+t.iceUfrag);if("undefined"!=typeof t.iceUfrag&&(p=t.iceUfrag),"undefined"!=typeof l&&"undefined"!=typeof t.icePwd&&l!=t.icePwd)throw new Error("Only BUNDLE supported, icePwd must be the same for all m-lines.\n\tLast icePwd: "+l+"\n\tNew icePwd: "+t.icePwd);if("undefined"!=typeof t.icePwd&&(l=t.icePwd),"undefined"!=typeof m&&"undefined"!=typeof t.fingerprint&&(m.type!=t.fingerprint.type||m.hash!=t.fingerprint.hash))throw new Error("Only BUNDLE supported, fingerprint must be the same for all m-lines.\n\tLast fingerprint: "+JSON.stringify(m)+"\n\tNew fingerprint: "+JSON.stringify(t.fingerprint));"undefined"!=typeof t.fingerprint&&(m=t.fingerprint),b[t.type]=t.payloads,k[t.type]=t.rtcpFb,S[t.type]=t.rtp;var s={};"undefined"!==typeof r&&Array.isArray(r)&&r.forEach((function(e){"undefined"!==typeof e.ssrcs&&Array.isArray(e.ssrcs)&&e.ssrcs.forEach((function(n){"undefined"===typeof s[n]&&(s[n]=[]),s[n].push(e)}))}));var a={};if("object"===typeof i)delete t.sources,delete t.ssrcGroups,delete t.candidates,delete t.iceUfrag,delete t.icePwd,delete t.fingerprint,delete t.port,delete t.mid,Object.keys(i).forEach((function(r){var d;"offer"!==e.type||i[r].msid?("undefined"!==typeof s[r]&&Array.isArray(s[r])&&s[r].some((function(e){return e.ssrcs.some((function(e){if("object"===typeof a[e])return d=a[e],!0}))})),"object"===typeof d?(d.sources[r]=i[r],delete i[r].msid):(d=Object.create(t),a[r]=d,"undefined"!==typeof i[r].msid&&(d.msid=i[r].msid,delete i[r].msid),d.sources={},d.sources[r]=i[r],d.ssrcGroups=s[r],"undefined"!==typeof c&&"undefined"!==typeof c.media&&Array.isArray(c.media)&&c.media.forEach((function(e){"object"===typeof e.sources&&Object.keys(e.sources).forEach((function(n){n===r&&(d.mid=e.mid)}))})),"undefined"===typeof d.mid&&(d.mid=[t.type,"-",r].join("")),d.candidates=f,d.iceUfrag=p,d.icePwd=l,d.fingerprint=m,d.port=o,w[d.mid]=d,y[v]=d.sources,n.cache.mlU2BMap[v]=g,"undefined"===typeof n.cache.mlB2UMap[g]&&(n.cache.mlB2UMap[g]=v),v++)):h[t.type][r]=i[r]}));else{var d=t;d.candidates=f,d.iceUfrag=p,d.icePwd=l,d.fingerprint=m,d.port=o,w[d.mid]=d,n.cache.mlU2BMap[v]=g,"undefined"===typeof n.cache.mlB2UMap[g]&&(n.cache.mlB2UMap[g]=v)}g++}else w[t.mid]=t})),t.media=[],o=[],"answer"===e.type)for(var E=0;E<c.media.length;E++){var x=c.media[E];delete x.msid,delete x.sources,delete x.ssrcGroups,"undefined"===typeof y[E]?x.direction&&"sendrecv"!==x.direction?"sendonly"===x.direction&&(x.direction="inactive"):x.direction="recvonly":x.direction&&"sendrecv"!==x.direction?"recvonly"===x.direction&&(x.direction="sendonly"):x.direction="sendrecv",x.sources=y[E],x.candidates=f,x.iceUfrag=p,x.icePwd=l,x.fingerprint=m,x.rtp=S[x.type],x.payloads=b[x.type],x.rtcpFb=k[x.type],t.media.push(x),"string"===typeof x.mid&&o.push(x.mid)}else"undefined"!==typeof c&&"undefined"!==typeof c.media&&Array.isArray(c.media)&&c.media.forEach((function(e){o.push(e.mid),"undefined"!==typeof w[e.mid]?t.media.push(w[e.mid]):(delete e.msid,delete e.sources,delete e.ssrcGroups,e.direction&&"sendrecv"!==e.direction||(e.direction="sendonly"),e.direction&&"recvonly"!==e.direction||(e.direction="inactive"),s(e),t.media.push(e))})),Object.keys(w).forEach((function(e){if(-1===o.indexOf(e))if(o.push(e),"recvonly"===w[e].direction){var n=!1;t.media.some((function(t){if(("sendrecv"===t.direction||"sendonly"===t.direction)&&t.type===w[e].type)return Object.keys(w[e].sources).forEach((function(n){t.sources[n]=w[e].sources[n]})),n=!0,!0})),n||t.media.push(w[e])}else t.media.push(w[e])}));["audio","video"].forEach((function(e){if(t&&t.media&&Array.isArray(t.media)){var i=null;if(Object.keys(h[e]).length>0&&(i=n.getFirstSendingIndexFromAnswer(e),null===i))for(var r=0;r<t.media.length;r++)if(t.media[r].type===e){i=r;break}if(i&&t.media.length>i){var o=t.media[i];Object.keys(h[e]).forEach((function(n){o.sources&&o.sources[n]&&console.warn("Replacing an existing SSRC."),o.sources||(o.sources={}),o.sources[n]=h[e][n]}))}}})),"undefined"!==typeof t.groups&&t.groups.some((function(e){if("BUNDLE"===e.type)return e.mids=o.join(" "),!0})),t.msidSemantic={semantic:"WMS",token:"*"};var A=i.write(t);return this.cache[e.type]=A,new RTCSessionDescription({type:e.type,sdp:A})}}}]);
//# sourceMappingURL=chunk-283e42aa.f3f8f2f5.js.map